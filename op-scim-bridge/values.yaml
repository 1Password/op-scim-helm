# scim configuration options
scim:
  # name sets the name used for the various constructs used by the SCIM bridge setup
  name: "{{ .Chart.Name }}-bridge"
  # version of the SCIM bridge
  version: "{{ .Chart.AppVersion }}"
  # credentialsVolume configures the SCIM bridge to access the credentials via a volume
  credentialsVolume:
    # name of the volume
    name: "{{ .Chart.Name }}-bridge-credentials"
    # name of the file to mount within the volume
    file: scimsession
    # accessModes for the volume
    accessModes:
      - ReadWriteOnce
    # resources configuration for the volume
    resources:
      requests:
        storage: 1Gi
    # storageClass for the volume. do-block-storage is recommended for Digital Ocean
    # storageClass:
  # credentialsSecret configures the SCIM bridge to access the credentials via a secret
  # credentialsSecret:
    # name of the secret
    # name: "{{ .Chart.Name }}-bridge-credentials"
    # key of the secret
    # key: scimsession
    # value of the secret
    # value: "base64 encoded scimsession file"
  # imageRepository sets the 1Password SCIM bridge image to use
  imageRepository: 1password/scim
  # imagePullPolicy sets the image pull policy
  imagePullPolicy: Always
  # imagePullPolicy sets the image pull secret
  imagePullSecrets: []
  # httpPort sets the HTTP port used by the SCIM bridge
  httpPort: 8080
  # httpsPort sets the HTTPS port used by the SCIM bridge
  httpsPort: 8443
  # serviceType defines the service type to configure
  serviceType: LoadBalancer
  # probes configures the liveness probe used for the SCIM bridge pod
  probes:
    # liveness contains the liveness probe config
    liveness:
      # enabled determines whether to enable the liveness probe
      enabled: true
      # path sets the URL path to use for the liveness probe
      path: "/ping"
  # config sets the configuration options
  config:
    # redisURL sets the Redis connection URL
    redisURL: "redis://{{ .Release.Namespace }}-redis-master:6379"
    # domain sets the allowed 1Password sign in URL. Not set by default.
    # domain: example.1password.com
    # letsEncryptDomain sets the domain to attempt to get a certificate for via Let's Encrypt
    # letsEncryptDomain: scim.example.com
    # debug enables DEBUG log level instead of the default INFO level
    # debug: false
    # jsonLogs enables JSON log output
    # jsonLogs: false
    # prettyLogs enables colorized log output
    # prettyLogs: false
  tls:
    enabled: false
    secret: "{{ .Chart.Name }}-bridge-tls"
  # resource sets the requests and/or limits for the SCIM bridge pod
  resources: {}
  # annotations adds additional annotations
  annotations: {}
  # labels adds additional labels
  labels: {}
  # podAnnotations sets annotations for the SCIM bridge pod
  podAnnotations: {}
  # podLabels sets the labels for the SCIM bridge pod
  podLabels: {}
  # nodeSelector sets the node selector for the SCIM bridge pod
  nodeSelector: {}
  # affinity sets the affinity for the SCIM bridge pod
  affinity: {}
  # tolerations sets the tolerations for the SCIM bridge pod
  tolerations: []

# redis configuration options (see upstream chart documentation and README.MD)
redis:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/redis
    tag: latest
    pullPolicy: IfNotPresent
  cluster:
    enabled: false
  usePassword: false

# acceptanceTests is used by the tests run during CI (see op-scim-bridge/templates/tests)
acceptanceTests:
  enabled: false
